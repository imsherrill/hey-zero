// Generated by Zero Schema Generator

import {
  createSchema,
  definePermissions,
  Row,
  column,
  NOBODY_CAN,
  ANYONE_CAN,
} from "@rocicorp/zero";

const { enumeration } = column;

// Define schemas

const usersSchema = {
  tableName: "users",
  columns: {
    id: "number",
    name: "string",
    email: "string",
  },
  primaryKey: "id",
} as const;

// Define schema

export const schema = createSchema({
  version: 1,
  tables: {
    users: usersSchema,
  },
});

// Define types
export type Schema = typeof schema;
export type users = Row<typeof usersSchema>;

// Define permissions

// Important: currently no permissions are generated so evey operation is allowed!

export const permissions = definePermissions(schema, () => {
  return {
    users: {
      row: {
        insert: ANYONE_CAN,
        update: {
          preMutation: ANYONE_CAN,
        },
        delete: NOBODY_CAN,
      },
    },
  };
});

// DO NOT TOUCH THIS. The schema hash is used to determine if the schema has changed and correctly update the version.
// Schema hash: 7e29abf3fb009c4df3baf17ed0d332c0b49409fbbdae2b43889e0a2e0f92dc74
